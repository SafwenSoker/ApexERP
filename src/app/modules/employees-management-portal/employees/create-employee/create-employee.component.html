<p-button (click)="showAddEmployee()" icon="pi pi-user-plus"
                label="Create" class="mb-2" severity="primary" [outlined]="true"></p-button>
<p-dialog [style]="{ width: '80vw', height: '80vh','border-radius': '12px 12px 0 0', 'background-color': '#000000'}"
    header="Create Employee" [(visible)]="visible">
    <form [formGroup]="employeeForm" (ngSubmit)="onAddEmployee()">
        <div class="grid m-2">
            <div class="col-4 my-2 mt-5 pt-3">
                <span class="p-float-label">
                    <input pInputText id="username" formControlName="userName" />
                    <label htmlFor="username">Username</label>
                </span>
            </div>
            <div class="col-4 my-2 mt-5 pt-3">
                <span class="p-float-label">
                    <input pInputText id="firstName" formControlName="firstName" />
                    <label htmlFor="firstName">Firstname</label>
                </span>
            </div>
            <div class="col-4 my-2 mt-5 pt-3">
                <span class="p-float-label">
                    <input pInputText id="lastName" formControlName="lastName" />
                    <label htmlFor="lastName">Lastname</label>
                </span>
            </div>
        </div>
        <div class="grid ml-2">
            <div class="col-5 my-2 mt-5 pt-3">
                <span class="p-float-label">
                    <input type="email" pInputText id="email" formControlName="email" />
                    <label htmlFor="email">Email</label>
                </span>
            </div>
            <div class="col-5 my-2 mt-5 pt-3">
                <span class="p-float-label">
                    <label htmlFor="name">Password</label>
                    <p-password id="password" [toggleMask]="true" formControlName="password"></p-password>
                </span>
            </div>
        </div>

        <p-tabView styleClass="tabview-custom">
            <p-tabPanel>
                <ng-template pTemplate="header">
                    <span><i class="pi pi-shield"></i> Choose Roles</span>
                </ng-template>
                <p-pickList [source]="roles" [target]="employee.roles" sourceHeader="Available" targetHeader="Selected"
                    [dragdrop]="true" [responsive]="true" [sourceStyle]="{ height: '50rem' }"
                    [targetStyle]="{ height: '50rem' }" filterBy="name" sourceFilterPlaceholder="Search by name"
                    targetFilterPlaceholder="Search by name" breakpoint="1400px">
                    <ng-template let-role pTemplate="item">
                        <div class="flex flex-wrap p-2 align-items-center gap-3">
                            <div class="flex-1 flex flex-column gap-2">
                                <span class="font-bold">{{ role.name}}</span>
                            </div>
                            <div class="flex align-products-center gap-2">
                                <i class="pi" [ngClass]="role.name"></i>
                                <span>{{ role.name }}</span>
                            </div>
                        </div>
                    </ng-template>
                </p-pickList>
            </p-tabPanel>
        </p-tabView>

        <!-- Put create button under dropdown to the right -->
        <div class="flex justify-content-end">
            <p-button styleClass="p-button-text" class="btn btn-block form-control" data-bs-dismiss="modal"
                [ngClass]="{'btn-secondary' : !employeeForm.valid, 'btn-success' : employeeForm.valid }"
                [disabled]="!employeeForm.valid" type="submit">
                <i class="fa-solid fa-folder-plus"></i> Create
            </p-button>
        </div>
    </form>
</p-dialog>

